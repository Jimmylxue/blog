# 括号生成

::: tip 考点
难度：**中级**

思想：**递归**、**回溯**
:::

---

:::demo

```vue
<template>
  <div class="demo">
    <iframe
      src="//player.bilibili.com/player.html?aid=680331744&bvid=BV1cS4y1T7mX&cid=473737161&page=1"
      scrolling="no"
      border="0"
      frameborder="no"
      framespacing="0"
      allowfullscreen="true"
    >
    </iframe>
  </div>
</template>
<style>
.demo > iframe {
  width: 100%;
  height: 450px;
}
</style>
```

:::

### 题目

示例 1：

> 输入：n = 3
>
> 输出：["((()))","(()())","(())()","()(())","()()()"]

示例 2：

> 输入：n = 1
> 输出：["()"]

递归思想：让函数帮我们做一些特别复杂的计算，我们只告诉递归算法在什么时候应该递归，在什么时候应该停止递归

---

### 什么时候应该递归？

- 左括号的数量小于数字 n = 3 时，可以递归

  当左括号的数量少于 n 时，说明可以继续的递归添加左括号或者右括号

- 右括号数量小于左括号数量时，可以递归

  右括号的数量小于左括号的时候，可以在这个基础上进行添加右括号，至左右括号数量相等

### 什么时候应该停止递归？

- 左括号的数量+右括号的数量 === N\*2 就应该退出递归

### 完整代码

```js
/**
 * @param {number} n
 * @return {string[]}
 */
var generateParenthesis = function (n) {
  let arr = []; // 存放结果数组
  diff(0, 0, n, '');
  /**
   * @param {number} left
   * @param {number} right
   * @param {number} n
   * @param {string} str
   */
  function diff(left, right, n, str) {
    // 什么时候应该退出呢？
    // 左括号的数量+右括号的数量 === N*2 就应该退出递归
    if (left + right === n * 2) {
      arr.push(str);
      return;
    }

    // 什么时候应该递归？
    // 左括号的数量小于数字 n = 3 时，可以递归
    if (left < n) {
      //  n == 3 (( =》 (((
      diff(left + 1, right, n, str + '(');
    }

    // 右括号数量小于左括号数量时，可以递归
    if (right < left) {
      //  (() =》 (()) (())( => (())()
      diff(left, right + 1, n, str + ')');
    }
  }
};

generateParenthesis(3); // ["((()))","(()())","(())()","()(())","()()()"]
```
